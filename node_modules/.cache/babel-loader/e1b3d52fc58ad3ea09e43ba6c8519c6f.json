{"ast":null,"code":"import firebase from \"firebase\";\nimport { db } from \"./firebase\";\nexport const addBbs = (name, comment) => {\n  const functions = require(\"firebase-functions\");\n\n  exports.adminIndexHtml = functions.https.onRequest((req, res) => {\n    console.log(req.headers);\n    res.send(\"ログ出力を Firebase コンソールで確認する\");\n  });\n  db.collection(\"bbs\").add({\n    name: name,\n    comment: comment,\n    ip: 'false',\n    created_at: firebase.firestore.FieldValue.serverTimestamp()\n  });\n};\nexport const initGet = async () => {\n  const bbs = await db.collection(\"bbs\").orderBy(\"created_at\", \"asc\");\n  return bbs.get().then(snapShot => {\n    let bbss = [];\n    snapShot.forEach(doc => {\n      bbss.push({\n        name: doc.data().name,\n        comment: doc.data().comment,\n        created_at: doc.created_at,\n        ip: doc.data().ip\n      });\n    });\n    return bbss;\n  });\n};","map":{"version":3,"sources":["/Users/koborihiroshi/develop_now/frontend/src/service/api.js"],"names":["firebase","db","addBbs","name","comment","functions","require","exports","adminIndexHtml","https","onRequest","req","res","console","log","headers","send","collection","add","ip","created_at","firestore","FieldValue","serverTimestamp","initGet","bbs","orderBy","get","then","snapShot","bbss","forEach","doc","push","data"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AACA,SAASC,EAAT,QAAmB,YAAnB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,IAAD,EAAOC,OAAP,KAAmB;AACvC,QAAMC,SAAS,GAAGC,OAAO,CAAC,oBAAD,CAAzB;;AAEAC,EAAAA,OAAO,CAACC,cAAR,GAAyBH,SAAS,CAACI,KAAV,CAAgBC,SAAhB,CAA0B,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7DC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,OAAhB;AACAH,IAAAA,GAAG,CAACI,IAAJ,CAAS,2BAAT;AACH,GAHwB,CAAzB;AAIAf,EAAAA,EAAE,CAACgB,UAAH,CAAc,KAAd,EAAqBC,GAArB,CAAyB;AACvBf,IAAAA,IAAI,EAAEA,IADiB;AAEvBC,IAAAA,OAAO,EAAEA,OAFc;AAGvBe,IAAAA,EAAE,EAAE,OAHmB;AAIvBC,IAAAA,UAAU,EAAEpB,QAAQ,CAACqB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B;AAJW,GAAzB;AAMD,CAbM;AAeP,OAAO,MAAMC,OAAO,GAAG,YAAW;AAChC,QAAMC,GAAG,GAAG,MAAMxB,EAAE,CAACgB,UAAH,CAAc,KAAd,EAAqBS,OAArB,CAA6B,YAA7B,EAA2C,KAA3C,CAAlB;AACA,SAAOD,GAAG,CAACE,GAAJ,GAAUC,IAAV,CAAgBC,QAAD,IAAc;AAClC,QAAIC,IAAI,GAAG,EAAX;AAEAD,IAAAA,QAAQ,CAACE,OAAT,CAAkBC,GAAD,IAAS;AACxBF,MAAAA,IAAI,CAACG,IAAL,CAAU;AACR9B,QAAAA,IAAI,EAAE6B,GAAG,CAACE,IAAJ,GAAW/B,IADT;AAERC,QAAAA,OAAO,EAAE4B,GAAG,CAACE,IAAJ,GAAW9B,OAFZ;AAGRgB,QAAAA,UAAU,EAAEY,GAAG,CAACZ,UAHR;AAIRD,QAAAA,EAAE,EAAEa,GAAG,CAACE,IAAJ,GAAWf;AAJP,OAAV;AAMD,KAPD;AAQA,WAAOW,IAAP;AACD,GAZM,CAAP;AAaD,CAfM","sourcesContent":["import firebase from \"firebase\";\nimport { db } from \"./firebase\"\n\nexport const addBbs = (name, comment) => {\n  const functions = require(\"firebase-functions\");\n\n  exports.adminIndexHtml = functions.https.onRequest((req, res) => {\n      console.log(req.headers);\n      res.send(\"ログ出力を Firebase コンソールで確認する\");\n  });\n  db.collection(\"bbs\").add({\n    name: name,\n    comment: comment,\n    ip: 'false',\n    created_at: firebase.firestore.FieldValue.serverTimestamp(),\n  })\n}\n\nexport const initGet = async() => {\n  const bbs = await db.collection(\"bbs\").orderBy(\"created_at\", \"asc\");\n  return bbs.get().then((snapShot) => {\n    let bbss = [];\n\n    snapShot.forEach((doc) => {\n      bbss.push({\n        name: doc.data().name,\n        comment: doc.data().comment,\n        created_at: doc.created_at,\n        ip: doc.data().ip,\n      });\n    });\n    return bbss ;\n  });\n}"]},"metadata":{},"sourceType":"module"}